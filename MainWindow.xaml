<?xml version="1.0" encoding="utf-8"?>
<Window x:Class="OperationPrime.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="using:OperationPrime"
        xmlns:controls="using:Microsoft.UI.Xaml.Controls"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        Title="Operation Prime - Incident Management">

    <Grid>
        <NavigationView x:Name="NavigationViewControl"
                       IsBackButtonVisible="Auto"
                       IsSettingsVisible="False"
                       BackRequested="NavigationView_BackRequested"
                       ItemInvoked="NavigationView_ItemInvoked"
                       MenuItemsSource="{x:Bind ViewModel.MenuItems}"
                       FooterMenuItemsSource="{x:Bind ViewModel.FooterMenuItems}"
                       SelectedItem="{x:Bind ViewModel.Selected, Mode=TwoWay}">
            
            <!-- Dynamic Header with Breadcrumb Navigation -->
            <NavigationView.Header>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- Page Title -->
                    <TextBlock x:Name="PageTitleText" 
                               Grid.Column="0"
                               Text="Operation Prime"
                               Style="{ThemeResource TitleTextBlockStyle}"
                               Margin="20,20,20,20"
                               VerticalAlignment="Center"/>
                    
                    <!-- Breadcrumb Navigation (Context-Aware) -->
                    <controls:BreadcrumbBar x:Name="MainBreadcrumbBar"
                                          Grid.Column="1"
                                          Margin="20,0,12,0"
                                          VerticalAlignment="Center"
                                          Visibility="Collapsed"
                                          ItemClicked="BreadcrumbBar_ItemClicked"/>
                </Grid>
            </NavigationView.Header>
            
            <Frame x:Name="ContentFrame" />
        </NavigationView>
    </Grid>
</Window>
